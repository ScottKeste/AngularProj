<!--button (click)="getData()">Get Data</button-->

<h2>
    Account Data coming from Salesforce
</h2>

<button (click)="toggleEditMode()">{{editMode ? 'Disable Editing' : 'Enable Editing'}}</button>
<button (click)="updateAccounts()">Update Accounts</button>
<div *ngIf="!editMode">
    <table> 
        <tr>
            <td><h3>Name</h3></td>
            <td><h3>Country</h3></td>
            <td><h3>State</h3></td>
            <td><h3>Address</h3></td>
            <td><h3>Phone Number</h3></td>
            <td></td>
        </tr>
        <tr *ngFor="let row of (data)?.rows ">
            <td>{{row.name}}</td>
            <td>{{row.billingcountry}}</td>
            <td>{{row.billingstate}}</td>
            <td>{{row.billingstreet}}</td>
            <td>{{row.phone}}</td>
            <td><a href="https://shagen-dev-ed.lightning.force.com/lightning/r/Account/{{row.sfid}}/view">View in Salesforce</a></td>
        </tr>
    </table>
</div>
<div *ngIf="editMode">
    <table > 
        <tr>
            <td><h3>Name</h3></td>
            <td><h3>Country</h3></td> 
            <td><h3>State</h3></td>
            <td><h3>Address</h3></td>
            <td><h3>Phone Number</h3></td>
            <td></td>
        </tr>
        <tr *ngFor="let row of (data)?.rows; let index=index;trackBy:trackByIndex;">
            <td>{{row.name}}</td>
            <td><input [(ngModel)]="row.billingcountry"></td>
            <td><input [(ngModel)]="row.billingstate"></td>
            <td><input [(ngModel)]="row.billingstreet"></td>
            <td><input [(ngModel)]="row.phone"></td>
        </tr>
    </table>
</div>

    <!--tr *ngFor="let row of (data |async)?.rows ">
      {{ row | json }}

    </tr-->